version: 2

models:
  # Dimension Tables
  - name: dim_customer
    description: "Customer dimension table with demographics, sales history, and segmentation"
    columns:
      - name: customerid
        description: "Primary key - Customer identifier"
      - name: lifetime_value
        description: "Total revenue generated by customer"
      - name: customer_segment
        description: "Customer value segment (High/Medium/Low Value)"
      - name: customer_status
        description: "Customer activity status (Active/At Risk/Inactive)"
      - name: purchase_frequency
        description: "Purchase frequency category (Frequent/Regular/Occasional)"

  - name: dim_product
    description: "Product dimension with category hierarchy, pricing, and sales performance"
    columns:
      - name: productid
        description: "Primary key - Product identifier"
      - name: product_name
        description: "Product name"
      - name: category_name
        description: "Product category"
      - name: total_revenue
        description: "Total sales revenue for product"
      - name: profit_margin_percent
        description: "Profit margin percentage"
      - name: product_status
        description: "Product status (Active/Discontinued/Not Yet Available)"

  - name: dim_date
    description: "Date dimension table for time-based analysis"
    columns:
      - name: date_key
        description: "Primary key - Date in YYYYMMDD format"
      - name: date_day
        description: "Date value"
      - name: year
        description: "Year"
      - name: quarter
        description: "Quarter (1-4)"
      - name: month
        description: "Month (1-12)"
      - name: season
        description: "Season (Winter/Spring/Summer/Fall)"

  - name: dim_employee
    description: "Employee dimension with HR data and sales performance"
    columns:
      - name: employee_id
        description: "Primary key - Employee identifier"
      - name: jobtitle
        description: "Employee job title"
      - name: department_name
        description: "Current department"
      - name: sales_year_to_date
        description: "Sales year to date"
      - name: quota_achievement_percent
        description: "Percentage of sales quota achieved"

  - name: dim_territory
    description: "Sales territory dimension with performance metrics"
    columns:
      - name: territoryid
        description: "Primary key - Territory identifier"
      - name: territory_name
        description: "Territory name"
      - name: countryregioncode
        description: "Country region code"
      - name: total_revenue
        description: "Total revenue for territory"
      - name: performance_category
        description: "Performance category (High/Medium/Low/No Sales)"

  - name: dim_vendor
    description: "Vendor dimension with purchase history and performance"
    columns:
      - name: vendor_id
        description: "Primary key - Vendor identifier"
      - name: vendor_name
        description: "Vendor name"
      - name: total_purchase_amount
        description: "Total amount purchased from vendor"
      - name: avg_delivery_days
        description: "Average delivery days"
      - name: vendor_status
        description: "Vendor status (Active/Inactive)"

  # Fact Tables
  - name: fact_sales_order
    description: "Sales order fact table - one row per order"
    columns:
      - name: salesorderid
        description: "Primary key - Sales order identifier"
      - name: order_date_key
        description: "Foreign key to dim_date"
      - name: customer_key
        description: "Foreign key to dim_customer"
      - name: employee_key
        description: "Foreign key to dim_employee"
      - name: territory_key
        description: "Foreign key to dim_territory"
      - name: totaldue
        description: "Total order amount due"
      - name: days_to_ship
        description: "Days from order to ship date"

  - name: fact_sales_order_line
    description: "Sales order line item fact - one row per order line"
    columns:
      - name: salesorderid
        description: "Foreign key - Sales order identifier"
      - name: salesorderdetailid
        description: "Primary key - Order line identifier"
      - name: order_date_key
        description: "Foreign key to dim_date"
      - name: product_key
        description: "Foreign key to dim_product"
      - name: orderqty
        description: "Quantity ordered"
      - name: net_line_amount
        description: "Net line amount after discounts"
      - name: total_profit
        description: "Total profit for line item"

  - name: fact_inventory
    description: "Inventory fact table - one row per product/location"
    columns:
      - name: product_key
        description: "Foreign key to dim_product"
      - name: location_key
        description: "Location identifier"
      - name: quantity
        description: "Current inventory quantity"
      - name: inventory_value
        description: "Inventory value (quantity * cost)"
      - name: inventory_status
        description: "Inventory status (Out of Stock/Below Safety Stock/At Reorder Point/In Stock)"

  - name: fact_purchase_order
    description: "Purchase order fact table - one row per purchase order"
    columns:
      - name: purchaseorderid
        description: "Primary key - Purchase order identifier"
      - name: order_date_key
        description: "Foreign key to dim_date"
      - name: vendor_key
        description: "Foreign key to dim_vendor"
      - name: totaldue
        description: "Total purchase order amount"
      - name: rejection_rate_percent
        description: "Percentage of rejected items"

  - name: fact_work_order
    description: "Work order fact table - one row per work order"
    columns:
      - name: workorderid
        description: "Primary key - Work order identifier"
      - name: start_date_key
        description: "Foreign key to dim_date"
      - name: product_key
        description: "Foreign key to dim_product"
      - name: production_days
        description: "Days to complete production"
      - name: cost_variance
        description: "Difference between actual and planned cost"
      - name: scrap_rate_percent
        description: "Percentage of scrapped quantity"

  - name: fact_employee_quota
    description: "Employee quota fact table - one row per quota period"
    columns:
      - name: employee_key
        description: "Foreign key to dim_employee"
      - name: quota_date_key
        description: "Foreign key to dim_date"
      - name: salesquota
        description: "Sales quota amount"
      - name: quota_achievement_percent
        description: "Percentage of quota achieved"
      - name: quota_status
        description: "Quota status (Achieved/Near Target/Below Target)"

